PROGS03 = 03_02 03_03 03_04 03_05 03_06 03_07 03_08 03_09
PROGS07 = 07_01 07_02 07_03 07_04 07_05 07_06 07_07 07_08 07_09
PROGS08 = 08_01 08_02 08_03 08_04 08_05 08_10 08_11 08_12 08_14 08_15 08_16 08_17 08_18 08_19 08_20 08_21 08_22
PROGS09 = 09_01 09_02 09_03 09_04 09_05 09_06
PROGS = $(PROGS03) $(PROGS07) $(PROGS08) $(PROGS09)  # 合并各个章节
CC = gcc
CFLAGS = -Wall

all: $(PROGS)  # 所有章节示例

08_21: 08_21_1.o 08_21_2.o
	$(CC) $(CFLAGS) $^ -o $@

08_22: 08_22_1.o 08_22_2.o 08_22_3.o 08_22_4.o
	$(CC) $(CFLAGS) $^ -o $@

%.o: %.c        # 隐含规则：从同名 .c 文件编译可执行文件
	$(CC) $(CFLAGS) -c $< -o $@

%: %.c        # 隐含规则：从同名 .c 文件编译可执行文件
	$(CC) $< -o $@

clean:
	rm -f $(PROGS)  # 正确删除所有目标文件

